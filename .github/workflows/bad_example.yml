name: CI-CD_devoops 

on: 
  push:
    branches: [ ci-cd-test ]

jobs:
  Test:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./devops_lab3
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v4
        with:
          python-version: 3.10
      - run: |
          sudo apt-get update
          sudo apt-get install -y python3
          pip install pytest
      - run: |
          pytest test_main.py
  Deploy:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./devops_lab3
    steps: 
      - uses: actions/checkout@v4
      - run: |
              echo "ðŸ˜ˆ BAD EXAMPLE"
              python3 -m unittest test_main.py
          
          
