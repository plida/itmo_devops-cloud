Автор: Крестьянова Елизавета

# Лабораторная работа 1. Знакомство с IaaS, PaaS, SaaS сервисами в облаке на примере Amazon Web Services (AWS). Создание сервисной модели.

## Сведения о работе

**Цель работы:** Знакомство с облачными сервисами. Понимание уровней абстракции над инфраструктурой в облаке. Формирование понимания типов потребления сервисов в сервисной-модели. 

**Дано:** 
1. Слепок данных биллинга от провайдера после небольшой обработки в виде SQL-параметров. Символ % в начале/конце означает, что перед/после него может стоять любой набор символов.
2. Образец итогового соответствия, что желательно получить в конце.
   
**Необходимо:**
1. Импортировать файл .csv в Excel или любую другую программу работы с таблицами. Для Excel делается на вкладке Данные – Из текстового / csv файла – выбрать файл, разделитель – точка с запятой.
2. Распределить потребление сервисов по иерархии, чтобы можно было провести анализ от большего к меньшему (напр. От всех вычислительных ресурсов Compute дойти до конкретного типа использования - Выделенной стойка в датацентре Dedicated host usage).

**Алгоритм работы:** Сопоставить входящие данные от провайдера с его же документацией. Написать в соответствие колонкам справа значения 5 колонок слева, которые бы однозначно классифицировали тип сервиса. Для столбцов IT Tower и Service Family значения можно выбрать из образца.

**Результат работы:** [в папке с отчётом](https://github.com/plida/itmo_devops-cloud/blob/master/cloud_lab1/yetti%20cloud%20lab%201%20-%20Mapping%20Rules%20AWS%20team%202.csv).

## Ход работы

### Ресурсы

Для выполнения работы было необходимо собрать ресурсы, которые помогли бы заполнить категории.

1) ATUM - модель Apptio затрат IT. Именно из нее были взяты категории IT Tower и ниже. В самой моделе перечислены IT Tower, однако для некоторых затрат из таблицы не было найдено удовлетворительной башни, поэтому составленная таблица не будет чётко следовать иерархии ATUM. Это касается сервисов миграции, нетворкинга, машинного обучения и облачных сервисов.
2) Amazon Web Services: а именно представляет интерес список облачных сервисов амазона, разделённых по категориям. Практически все позиции в таблице являются сервисом, перечисленным на сайте, поэтому к ним было достаточно легко подобрать IT Tower и Service Family.
3) AWS documentation понадобился, в основном, для Service Sub Type и Service Usage Type - когда нужна была информация поконкретней, чего основной сайт AWS не мог предоставить.
### Категории сервисов

**(0) Налоги**

В таблице есть строки с налогами. Было решено, что для них категории IT Tower, Service Family и Service Type повторяют другие продукты, относящиеся к тому же продукту кода. При этом Service Sub Type вписывается как "Additional Costs".

**(1) Compute**

Эта категория оказалась наиболее сложной для понимания из-за разнообразия функционала. Здесь рассматривается продукт Amazon Elastic Compute Cloud, у которого подключена целая кучка функционала:
- CloudWatch - монитор ресурсов;
- обработка данных в байтах;
- эластичный IP - берётся плата за него самого, а также за его переназначение.
- балансировка нагрузки;
- различные выделенные инстансы, инстансы GPU и контейнеры; и Dedicated Host - выделенный физический сервер.

**(2) Database**

К этой категории относится всё связанное с DynamoDB - NoSQL таблица. Здесь берётся плата за чтение и ввод информации из таблицы по часам, восстановление информации и DynamoDB Streams, следящего за модификациями в таблице . 

Также сюда включен акселератор , в разы улучшающий производительность сервиса DynamoDB.

**(3) Migration & Transfer**

Сюда включено всё, что относится к AWS Database Migration Service. По названию понятно, что он помогает мигрировать датабазы. DMS использует хранилище General Purpose SSD, а также деплойинг Multi-AZ. DMS:Multi-AZ-GP2-Storage это опция, объединяющая это хранилище (gp2) с деплойингом. В целом за использование DMS, за использование хранилища gp2 и деплойинга Multi-AZ взимается плата.

**(4) Cloud Services**

Как и в Compute, сюда включены несколько сервисов.

Во-первых - AWS Device Farm. Этот сервис позволяет тестировать приложение на разных устройствах и браузерах. Для них "Service Family" была взята с сайта AWS: "Web & Mobile Services". Здесь приведено тестирование Chrome на Windows, а также мобильные устройства iOS и Android и удалённый доступ к ним.

Во-вторых - в категории Internet of things рассматривается сервис Amazon IoT Device Management, регистрирующий, организующий и мониторящий девайсы. В этом сервисе производится индексация флита (устройств), за что бралась плата.

В-третьих - Cloud Hardware Security Module (CloudHSM),  генерирующий и хранящий криптографические ключи. Он был приписан к семье сервисов "Security and Identity".

Наконец - CodeBuild, помогающий создавать и тестировать код разработчиков.

**(5) Networking**

Сюда включен единственный сервис - AWS Partner Network. Это сообщество партнёров AWS, помогающее работать с продуктами AWS.

**(6) Machine learning**

К этой категории относятся Text Translation, Audio Streaming, Transcription, Comprehend и Comprehend Medical. IT Tower и Service Family у них были назначены как "Machine learning". Этой категории нет в ATUM, но альтернативно их можно внести в "Cloud Services" или "Compute". 

Типы сервисов были взяты напрямую с сайта Amazon - то есть для "Text Translation", например, записывается "Amazon Translate". Подтип сервиса фактически повторяет название сервиса, в тип использования для сервисов Comprehend было решено записать "Text Analysis" (Comprehend анализирует текст из документов), у остальных сервисов был записан их очевидный функционал (перевод текста, стриминг аудио и транскрипция).

**(7) Storage**

Сюда включено всё, что относится к AWSBackup. Судя по всему здесь указывается плата за два разных хранилища: cold и warm, в подтипы сервиса были записаны "Cold/Warm Storage Support". У холодного хранилища есть пенальти за раннее удаление - если ты планировал держать холодное хранилище 30 дней и удалил после 21, придёт плата за оставшиеся 9 дней. И у каждого хранилища есть плата за восстановление бэкапа... А также "%Cold/WarmStorage%". Вероятно, имеется ввиду плата за использования хранилищ, поэтому было записано "Storage Use" в тип использования сервиса.

## Выводы

В ходе работы выяснилось, что не существует единой строгой категоризации, которой бы следовали все компании: например, были различия между категориями на AWS и в ATUM.

В AWS есть множество категорий, к ним относятся, помимо прочих, Database, Storage, Cloud Services, Compute, Machine learning, Networking.

У AWS есть много, очень много различных сервисов с разным функционалом, и он покрывает огромное количество use case-ов. 

Цель знакомства с облачным сервисом AWS, понимания уровней абстракции над инфраструктурой в облаке и формирование понимания типов потребления сервисов в сервисной-модели была выполнена.
